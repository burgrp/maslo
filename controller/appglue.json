{
    "configuration": {
        "module": "./configuration.js",
        "configFile": "-> $.CONFIG_FILE || './config.json'"
    },
    "machine": {
        "module": "./machine.js",
        "drivers": {
            "virtual": {
                "module": "./driver-virtual.js",
                "motors": {
                    "a": {
                        "steps": 1000,
                        "orientation": 1
                    },
                    "b": {
                        "steps": -4000,
                        "orientation": 1
                    },
                    "z": {
                        "steps": 100,
                        "orientation": 1
                    }
                }
            },
            "i2c": {
                "module": "./driver-i2c.js",
                "bus": "-> $.I2C",
                "motorAddresses": {
                    "a": 80,
                    "b": 81,
                    "z": 82
                }
            }
        },
        "driver": "-> $.MACHINE_DRIVER || 'virtual'",
        "configuration": "-> configuration",
        "checkIntervalMs": 50,
        "geometry": {
            "beam": {
                "motorsDistanceMm": 3402,
                "motorsToWorkspaceMm": 708    
            },
            "workspace": {
                "widthMm": 2500,
                "heightMm": 1250
            },
            "sled": {
                "diaMm": 400
            }
        },
        "motors": {
            "a": {
                "maxRpm": 7800,
                "encoderPpr": 17,
                "gearRatio": 280,
                "mmPerRev": 60
            },
            "b": {
                "maxRpm": 7800,
                "encoderPpr": 17,
                "gearRatio": 280,
                "mmPerRev": 60
            },
            "z": {
                "maxRpm": 9900,
                "encoderPpr": 11,
                "gearRatio": 90,
                "mmPerRev": 1
            }
        },
        "relays": {
            "spindle": {},
            "hoover": {}
        }
    },
    "router": {
        "module": "./router.js",
        "machine": "-> machine",
        "pid" : {
            "a": {
                "kp": 0.02,
                "kd": 0.1
            },
            "b": {
                "kp": 0.02,
                "kd": 0.1
            },
            "z": {
                "kp": -0.1,
                "kd": -0.3
            }
        }
    },
    "webserver": {
        "module": "@burgrp/webglue",
        "modules": [
            {
                "module": "./ui.js",
                "machine": "-> machine",
                "router": "-> router",
                "manualCuttingSpeedMmPerMin": 200,
                "manualRapidSpeedMmPerMin": 1000,           
                "manualMotorControl": {
                    "a": {
                        "min": 0.2,
                        "max": 1
                    },
                    "b": {
                        "min": 0.2,
                        "max": 1
                    },
                    "z": {
                        "min": 0.3,
                        "max": 1
                    }
                }        
            }
        ]
    },
    "positionSave": {
        "module": "./position-save.js",
        "machine": "-> machine",
        "configuration": "-> configuration"
    }
}