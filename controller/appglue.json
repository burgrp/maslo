{
    "config": {
        "module": "./config.js",
        "file": "-> $.CONFIG_FILE || './config.json'",
        "defaults": {
            "lastPosition": {},
            "motors": {
                "a": {
                    "i2c": {
                        "address": 81,
                        "motorPolarity": 1,
                        "encoderPolarity": -1
                    },
                    "maxRpm": 7800,
                    "encoderPpr": "-> 17*4",
                    "gearRatio": 280,
                    "mmPerRev": 60,
                    "offsetToDuty": 0.3
                },
                "b": {
                    "i2c": {
                        "address": 82,
                        "motorPolarity": -1,
                        "encoderPolarity": 1
                    },
                    "maxRpm": 7800,
                    "encoderPpr": "-> 17*4",
                    "gearRatio": 280,
                    "mmPerRev": 60,
                    "offsetToDuty": 0.3
                },
                "z": {
                    "i2c": {
                        "address": 80,
                        "motorPolarity": 1,
                        "encoderPolarity": 1
                    },
                    "maxRpm": 9900,
                    "encoderPpr": "-> 11*4",
                    "gearRatio": 90,
                    "mmPerRev": 2,
                    "offsetToDuty": -0.5
                }
            },
            "relays": {
                "spindle": {
                    "i2c": {
                        "address": 96
                    }
                },
                "hoover": {
                    "i2c": {
                        "address": 97
                    }
                }
            },
            "checkIntervalMs": 50,
            "beam": {
                "motorsDistanceMm": 3402,
                "motorsToWorkspaceMm": 708
            },
            "workspace": {
                "widthMm": 2500,
                "heightMm": 1250
            },
            "sled": {
                "diaMm": 400
            },
            "speed": {
                "xyRapidMmPerMin": 600,
                "xyDefaultMmPerMin": 300,
                "zMmPerMin": 100
            },
            "manual": {
                "motorDuty": {
                    "a": {
                        "min": 0.6,
                        "max": 1
                    },
                    "b": {
                        "min": 0.6,
                        "max": 1
                    },
                    "z": {
                        "min": 0.6,
                        "max": 0.9
                    }
                }
            }
        }
    },
    "machine": {
        "module": "./machine.js",
        "drivers": {
            "virtual": {
                "module": "./driver-virtual.js"
            },
            "i2c": {
                "module": "./driver-i2c.js",
                "bus": "-> $.I2C"
            }
        },
        "driver": "-> $.MACHINE_DRIVER || 'virtual'",
        "config": "-> config.data"
    },
    "router": {
        "module": "./router.js",
        "machine": "-> machine",
        "config": "-> config.data"
    },
    "webserver": {
        "module": "@burgrp/webglue",
        "modules": [
            {
                "module": "./ui.js",
                "machine": "-> machine",
                "router": "-> router",
                "config": "-> config"
            }
        ]
    },
    "rest": {
        "module": "./rest-api.js",
        "router": "-> router"        
    }
}